<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Casual Design — Architecture & Interiors</title>
  <meta name="description" content="Casual Design — relaxed yet elegant architecture & interiors." />

  <!-- Favicon (Cloudinary) -->
  <link rel="icon" href="https://res.cloudinary.com/dl9c1a1te/image/upload/v1758900378/favicon_g55eqw.ico" sizes="any" />
  <link rel="shortcut icon" href="https://res.cloudinary.com/dl9c1a1te/image/upload/v1758900378/favicon_g55eqw.ico" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet" />

  <style>
    :root {
      --bg: #ffffff;
      --panel: #f8f8f8;
      --text: #000000;
      --muted: #666666;
      --line: #e0e0e0;
      --shadow: 0 4px 20px rgba(0,0,0,0.1);
      --header-overlay: 1;               /* 0..1 overlay strength for gradient */
      --header-img: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1000 120\"><rect width=\"1000\" height=\"120\" fill=\"%23fafafa\"/><line x1=\"0\" y1=\"60\" x2=\"1000\" y2=\"60\" stroke=\"%23eee\" stroke-width=\"1\"/></svg>');
      --header-size: cover;               /* cover | contain */
      --header-pos: center;               /* css background-position */
    }

    * { box-sizing: border-box; }
    html, body { height:100%; scroll-behavior: smooth; }
    body {
      margin:0; background: var(--bg); color: var(--text);
      font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      font-weight: 600;
      line-height: 1.6;
    }

    /* Admin Panel */
    .admin-panel {
      position: fixed; top: 20px; right: 20px; z-index: 2000;
      background: white; border: 2px solid black; padding: 20px; border-radius: 0;
      box-shadow: var(--shadow); min-width: 320px; max-width: 360px;
      transform: translateX(calc(100% + 20px)); transition: transform 0.3s ease;
    }
    .admin-panel.open { transform: translateX(0); }
    .admin-toggle { position: fixed; top: 20px; right: 20px; z-index: 2001; background: black; color: white; border: none; padding: 10px 15px; cursor: pointer; font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 12px; }
    .admin-panel h3 { margin: 0 0 15px; font-weight: 800; font-size: 14px; }
    .admin-panel label { display: block; margin-bottom: 6px; font-weight: 700; font-size: 12px; }
    .admin-panel input, .admin-panel textarea, .admin-panel select { width: 100%; padding: 8px; margin-bottom: 14px; border: 2px solid black; background: white; font-family: 'Poppins', sans-serif; font-size: 12px; }
    .admin-panel .row { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
    .admin-panel button { background: black; color: white; border: none; padding: 8px 15px; cursor: pointer; font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 12px; margin-right: 10px; }

    /* Fixed horizon header */
    .horizon-header {
      position: fixed; inset: 0 0 auto 0; height: 120px; z-index: 1000;
      background-image:
        linear-gradient(to right,
          rgba(255,255,255,var(--header-overlay)) 0%,
          rgba(255,255,255,calc(var(--header-overlay)*0.9)) 20%,
          rgba(255,255,255,calc(var(--header-overlay)*0.7)) 40%,
          rgba(255,255,255,calc(var(--header-overlay)*0.3)) 70%,
          rgba(255,255,255,0) 100%),
        var(--header-img);
      background-size: auto, var(--header-size);
      background-position: center, var(--header-pos);
      background-repeat: no-repeat;
      backdrop-filter: blur(2px);
    }

    .logo-container { position: absolute; top: 20px; left: 20px; width: 64px; height: 64px; background: white; border: 2px solid black; display: flex; align-items: center; justify-content: center; overflow: hidden; }
    .logo-container img { width: 100%; height: 100%; object-fit: contain; image-rendering: -webkit-optimize-contrast; }
    .logo-placeholder { font-family: 'Poppins', sans-serif; font-weight: 800; font-size: 18px; color: black; }

    /* Navigation */
    .nav { position: absolute; top: 30px; right: 100px; display: flex; gap: 30px; }
    .nav a { font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 14px; text-decoration: none; color: black; padding-bottom: 3px; border-bottom: 2px solid transparent; transition: border-color 0.2s ease; }
    .nav a:hover, .nav a.active { border-color: black; }

    /* Sections */
    section { min-height: 100vh; padding: calc(120px + 48px) 20px 72px; }
    .container { max-width: 1100px; margin: 0 auto; }

    /* Hero */
    .hero { display: grid; place-items: center; position: relative; text-align: center; }
    .hero h1 { font-size: clamp(48px, 8vw, 96px); line-height: 1; margin: 0 0 24px; font-weight: 800; }
    .hero p { font-size: clamp(18px, 2.5vw, 24px); color: var(--muted); max-width: 720px; font-weight: 600; }
    .hero .cta { margin-top: 40px; display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; }

    .btn { display: inline-flex; align-items: center; gap: 12px; padding: 16px 24px; border: 2px solid black; background: white; color: black; text-decoration: none; font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 14px; transition: all 0.2s ease; }
    .btn:hover { background: black; color: white; }
    .btn-primary { background: black; color: white; }
    .btn-primary:hover { background: white; color: black; }

    .panel { background: var(--panel); border: 2px solid black; padding: 40px; box-shadow: var(--shadow); }
    h2 { font-size: clamp(32px, 5vw, 48px); margin: 0 0 16px; font-weight: 800; }
    .sub { color: var(--muted); margin-bottom: 24px; font-size: 18px; font-weight: 600; }

    /* Services */
    .cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 24px; }
    .card { background: white; border: 2px solid black; padding: 30px; }
    .card h3 { margin: 0 0 16px; font-size: 24px; font-weight: 800; }
    .card p { font-weight: 600; color: var(--muted); }
    .rule { height: 2px; background: black; border: 0; margin: 20px 0; }

    /* Contact */
    .contact-grid { display: grid; gap: 20px; grid-template-columns: 1fr; }
    @media (min-width: 900px) { .contact-grid { grid-template-columns: 1.2fr 0.8fr; } }

    label { display: block; font-size: 14px; color: black; margin-bottom: 8px; font-weight: 700; }
    input, textarea { width: 100%; background: white; color: black; border: 2px solid black; padding: 12px; font-family: 'Poppins', sans-serif; font-weight: 600; }
    textarea { min-height: 140px; resize: vertical; }

    .footer { padding: 40px 20px; color: var(--muted); border-top: 2px solid black; text-align: center; font-weight: 700; font-size: 14px; }

    /* Anchor offset */
    .anchor { position: relative; top: -140px; visibility: hidden; }

    /* Optional presets for header art */
    .horizon-urban { --header-img: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1000 120\"><rect width=\"1000\" height=\"120\" fill=\"%23f5f5f5\"/><rect y=\"80\" width=\"1000\" height=\"20\" fill=\"%23e8e8e8\"/><rect y=\"90\" width=\"1000\" height=\"30\" fill=\"%23ddd\"/></svg>'); }
    .horizon-minimal { --header-img: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1000 120\"><rect width=\"1000\" height=\"120\" fill=\"%23fafafa\"/><line x1=\"0\" y1=\"60\" x2=\"1000\" y2=\"60\" stroke=\"%23eee\" stroke-width=\"1\"/></svg>'); }
  </style>
</head>
<body>
  <!-- Admin Panel -->
  <button class="admin-toggle" onclick="toggleAdmin()">ADMIN</button>
  <div class="admin-panel" id="adminPanel">
    <h3>ADMIN PANEL</h3>

    <label>Logo URL:</label>
    <input type="text" id="logoUrl" placeholder="Enter image URL or leave empty" value="https://res.cloudinary.com/dl9c1a1te/image/upload/v1758897851/CD_Logo_f8pm1w.jpg">

    <label>Logo Text (fallback):</label>
    <input type="text" id="logoText" value="CD" placeholder="Logo text">

    <label>Header Background Image URL:</label>
    <input type="text" id="bgUrl" placeholder="Paste an image URL (Cloudinary, etc.)">

    <div class="row">
      <div>
        <label>Background Size</label>
        <select id="bgSize">
          <option value="cover" selected>cover</option>
          <option value="contain">contain</option>
        </select>
      </div>
      <div>
        <label>Overlay Strength</label>
        <input type="number" id="overlay" step="0.1" min="0" max="1" value="1">
      </div>
    </div>

    <label>Horizon Preset (optional):</label>
    <select id="horizonStyle">
      <option value="">Default</option>
      <option value="horizon-urban">Urban</option>
      <option value="horizon-minimal">Minimal</option>
    </select>

    <label>Hero Title:</label>
    <input type="text" id="heroTitle" value="Relaxed. Elegant. Personal.">

    <label>Hero Description:</label>
    <textarea id="heroDesc">Architecture & interiors that balance modern comfort with timeless character. Minimal surfaces, crafted detail, and a calm logic—without the fuss.</textarea>

    <button onclick="applyChanges()">APPLY</button>
    <button onclick="resetDefaults()">RESET</button>
  </div>

  <!-- Fixed Horizon Header -->
  <header class="horizon-header" id="horizonHeader">
    <div class="logo-container" id="logoContainer" aria-label="Site logo">
      <span class="logo-placeholder" id="logoPlaceholder">CD</span>
    </div>
    <nav class="nav" aria-label="Primary">
      <a href="#home" data-nav>HOME</a>
      <a href="#about" data-nav>ABOUT</a>
      <a href="#services" data-nav>SERVICES</a>
      <a href="#contact" data-nav>CONTACT</a>
    </nav>
  </header>

  <main>
    <!-- HERO -->
    <section id="home" class="hero">
      <span class="anchor" id="a-home"></span>
      <div class="container">
        <h1 id="heroTitleDisplay">Relaxed. Elegant. <strong>Personal.</strong></h1>
        <p id="heroDescDisplay">Architecture & interiors that balance modern comfort with timeless character. Minimal surfaces, crafted detail, and a calm logic—without the fuss.</p>
        <div class="cta">
          <a class="btn btn-primary" href="#services">EXPLORE SERVICES</a>
          <a class="btn" href="#contact">START CONVERSATION</a>
        </div>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about">
      <span class="anchor" id="a-about"></span>
      <div class="container">
        <div class="panel">
          <h2>About Casual Design</h2>
          <p class="sub">A simple promise: thoughtful spaces, human scale. We combine classic sensibilities with contemporary clarity so your home feels both grounded and fresh.</p>
          <p>With two decades of experience across hotels, residences, and complex renovations, our process is pragmatic and collaborative. We draw clean, we specify clearly, and we coordinate closely with builders. Every drawing serves a purpose—like layers in a CAD file—reducing noise and guiding decisions.</p>
        </div>
      </div>
    </section>

    <!-- SERVICES -->
    <section id="services">
      <span class="anchor" id="a-services"></span>
      <div class="container">
        <h2>Services</h2>
        <p class="sub">From first sketch to handover. Modular scope, clear deliverables.</p>
        <div class="cards">
          <article class="card">
            <h3>Concept & Feasibility</h3>
            <hr class="rule"/>
            <p>Site study, code check, massing, and mood. Early clarity on what's possible and sensible.</p>
          </article>
          <article class="card">
            <h3>Design & Visualization</h3>
            <hr class="rule"/>
            <p>Plans, sections, elevations, and clean 3D to test proportion, light, and material—before you commit.</p>
          </article>
          <article class="card">
            <h3>Technical & Coordination</h3>
            <hr class="rule"/>
            <p>Detailing, specifications, and consultant coordination (MEP/structural). Drawings that builders actually use.</p>
          </article>
          <article class="card">
            <h3>Interior Architecture</h3>
            <hr class="rule"/>
            <p>Joinery, kitchens, bathrooms, and pragmatic material palettes—durable, tactile, and calm.</p>
          </article>
          <article class="card">
            <h3>Planning & Permitting</h3>
            <hr class="rule"/>
            <p>Submissions and responses. We speak the language of authorities to keep momentum.</p>
          </article>
          <article class="card">
            <h3>Site Support</h3>
            <hr class="rule"/>
            <p>RFIs, sketches, and site visits to unblock decisions and protect design intent during construction.</p>
          </article>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact">
      <span class="anchor" id="a-contact"></span>
      <div class="container">
        <h2>Contact</h2>
        <p class="sub">Tell us about your project. We'll reply with next steps and a simple plan.</p>
        <div class="contact-grid">
          <form class="panel" onsubmit="event.preventDefault(); alert('Thanks! This demo form doesn\'t send yet.');">
            <div>
              <label for="name">YOUR NAME</label>
              <input id="name" name="name" placeholder="Jane Doe" required />
            </div>
            <div style="margin-top:16px">
              <label for="email">EMAIL</label>
              <input id="email" name="email" type="email" placeholder="you@example.com" required />
            </div>
            <div style="margin-top:16px">
              <label for="msg">MESSAGE</label>
              <textarea id="msg" name="message" placeholder="A few lines about your project…"></textarea>
            </div>
            <div style="margin-top:20px; display:flex; gap:16px; flex-wrap:wrap;">
              <button class="btn btn-primary" type="submit">SEND MESSAGE</button>
              <a class="btn" href="mailto:hello@casual-design.com">EMAIL DIRECTLY</a>
            </div>
          </form>
          <aside class="panel">
            <h3>DETAILS</h3>
            <hr class="rule"/>
            <p><strong>Email:</strong> hello@casual-design.com<br/>
               <strong>Locations:</strong> UK • Canada<br/>
               <strong>Hours:</strong> By appointment</p>
            <p>Prefer WhatsApp or Telegram? Add a link here later—this layout is ready.</p>
          </aside>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">© <span id="year"></span> Casual Design. All rights reserved.</footer>

  <script>
    // Current year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Admin Panel toggle
    function toggleAdmin(){ document.getElementById('adminPanel').classList.toggle('open'); }

    // Utility: load image to verify availability before applying
    function loadImage(url){
      return new Promise((resolve, reject) => {
        const img = new Image();
        img.crossOrigin = 'anonymous';
        img.referrerPolicy = 'no-referrer-when-downgrade';
        img.onload = () => resolve(url);
        img.onerror = reject;
        img.src = url;
      });
    }

    function applyChanges(){
      const logoUrl   = document.getElementById('logoUrl').value.trim();
      const logoText  = document.getElementById('logoText').value.trim() || 'CD';
      const bgUrl     = document.getElementById('bgUrl').value.trim();
      const bgSize    = document.getElementById('bgSize').value;
      const overlay   = parseFloat(document.getElementById('overlay').value || '1');
      const horizonStyle = document.getElementById('horizonStyle').value;
      const heroTitle = document.getElementById('heroTitle').value;
      const heroDesc  = document.getElementById('heroDesc').value;

      // Update logo with graceful fallback
      const logoContainer = document.getElementById('logoContainer');
      if(logoUrl){
        loadImage(logoUrl).then(() => {
          logoContainer.innerHTML = '';
          const img = document.createElement('img');
          img.src = logoUrl; img.alt = 'Logo'; img.decoding = 'async'; img.loading = 'eager';
          logoContainer.appendChild(img);
        }).catch(() => {
          logoContainer.innerHTML = `<span class="logo-placeholder">${logoText}</span>`;
          alert('Logo image failed to load. Showing text fallback.');
        });
      } else {
        logoContainer.innerHTML = `<span class=\"logo-placeholder\">${logoText}</span>`;
      }

      // Update header background (custom URL or preset)
      const header = document.getElementById('horizonHeader');
      header.className = `horizon-header ${horizonStyle}`; // apply preset class first
      header.style.setProperty('--header-size', bgSize);
      header.style.setProperty('--header-overlay', isNaN(overlay) ? 1 : Math.max(0, Math.min(1, overlay)) );

      const setBg = (url) => header.style.setProperty('--header-img', `url('${url.replaceAll('\\n','').replaceAll("'","%27")}')`);

      if(bgUrl){
        loadImage(bgUrl).then(() => setBg(bgUrl)).catch(() => alert('Header background failed to load; keeping previous.'));
      }

      // Update hero content
      document.getElementById('heroTitleDisplay').innerHTML = heroTitle;
      document.getElementById('heroDescDisplay').innerHTML  = heroDesc;

      // Save to localStorage
      const settings = { logoUrl, logoText, bgUrl, bgSize, overlay, horizonStyle, heroTitle, heroDesc };
      localStorage.setItem('casualDesignSettings', JSON.stringify(settings));
      alert('Changes applied.');
    }

    function resetDefaults(){
      document.getElementById('logoUrl').value = 'https://res.cloudinary.com/dl9c1a1te/image/upload/v1758897851/CD_Logo_f8pm1w.jpg';
      document.getElementById('logoText').value = 'CD';
      document.getElementById('bgUrl').value = '';
      document.getElementById('bgSize').value = 'cover';
      document.getElementById('overlay').value = 1;
      document.getElementById('horizonStyle').value = '';
      document.getElementById('heroTitle').value = 'Relaxed. Elegant. Personal.';
      document.getElementById('heroDesc').value = 'Architecture & interiors that balance modern comfort with timeless character. Minimal surfaces, crafted detail, and a calm logic—without the fuss.';
      localStorage.removeItem('casualDesignSettings');
      // Apply defaults
      applyChanges();
    }

    function loadSettings(){
      const saved = localStorage.getItem('casualDesignSettings');
      if(!saved){
        // First-load defaults: try to show logo image if reachable
        const url = document.getElementById('logoUrl').value.trim();
        if(url){ loadImage(url).then(() => applyChanges()); }
        return;
      }
      try{
        const s = JSON.parse(saved);
        document.getElementById('logoUrl').value   = s.logoUrl   || '';
        document.getElementById('logoText').value  = s.logoText  || 'CD';
        document.getElementById('bgUrl').value     = s.bgUrl     || '';
        document.getElementById('bgSize').value    = s.bgSize    || 'cover';
        document.getElementById('overlay').value   = (s.overlay ?? 1);
        document.getElementById('horizonStyle').value = s.horizonStyle || '';
        document.getElementById('heroTitle').value = s.heroTitle || 'Relaxed. Elegant. Personal.';
        document.getElementById('heroDesc').value  = s.heroDesc  || 'Architecture & interiors that balance modern comfort with timeless character. Minimal surfaces, crafted detail, and a calm logic—without the fuss.';
        applyChanges();
      } catch(e){ console.warn('Bad saved settings; clearing.', e); localStorage.removeItem('casualDesignSettings'); }
    }

    loadSettings();

    // Active nav highlight
    const links = Array.from(document.querySelectorAll('[data-nav]'));
    const map = new Map([
      ['home', links.find(a => a.getAttribute('href') === '#home')],
      ['about', links.find(a => a.getAttribute('href') === '#about')],
      ['services', links.find(a => a.getAttribute('href') === '#services')],
      ['contact', links.find(a => a.getAttribute('href') === '#contact')],
    ]);

    const obs = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const id = entry.target.id;
          links.forEach(a => a.classList.remove('active'));
          const el = map.get(id);
          if (el) el.classList.add('active');
        }
      });
    }, { rootMargin: '-40% 0px -55% 0px', threshold: 0.01 });

    ['home','about','services','contact'].forEach(id => {
      const el = document.getElementById(id);
      if (el) obs.observe(el);
    });

    // Smooth scroll offset fix
    document.querySelectorAll('a[href^="#"]').forEach(a => {
      a.addEventListener('click', (e) => {
        const href = a.getAttribute('href');
        if(!href || href === '#') return;
        const target = document.querySelector(href);
        if (target) {
          e.preventDefault();
          const y = target.getBoundingClientRect().top + window.scrollY - 140;
          window.scrollTo({ top: y, behavior: 'smooth' });
        }
      });
    });
  </script>
</body>
</html>